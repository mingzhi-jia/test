# Linux  压缩打包

## 一、压缩

> 压缩是指利用算法将文件进行处理，以达到保留最大文件信息，而让文件体积变小的目的。
>
> Linux 下常用打包工具有 `zip`、`gzip`、`bzip2`、`xz`

### zip

> 兼容`类unix`与`windows`，可压缩`多个文件或目录`

- 压缩： `# zip 压缩后保存文件  需要压缩的文件或目录（可多个）  `     ，压缩目录时需要加`-r`
- 解压缩：`# unzip 需要解压缩的文件 -d 解压缩路径`

| 选项   | 全称          | 作用           |
| ------ | ------------- | -------------- |
| **-r** | **recursion** | **压缩目录**   |
| -d     | directory     | 指定解压缩路径 |

`注意：需要压缩的文件使用绝对路径时会将上层目录也进行压缩`

### gzip

> 压缩`单个文件`，压缩率相对低，cpu开销相对低，压缩后`删除原文件`并自动加后缀`gz`，解压缩`gunzip`

- 压缩：`# gzip 需要压缩的文件  `
- 解压缩：`# gunzip 需要解压的文件`  或者 `# gzip -d 要解压缩的文件`

| 选项   | 全称      | 作用                                                   |
| ------ | --------- | ------------------------------------------------------ |
| **-r** | recursion | **压缩目录，目录中每个问价单个压缩，并非压缩整个目录** |

### bzip2

> 压缩`单个文件`，缩率相对高，cpu开销相对高，压缩后`删除原文件`并自动加后缀`bz2`，解压缩`bunzip2`

- 压缩：`# bzip2 文件名`
- 解压缩：`# bunzip2 文件名` 或 `# bzip2 -d 文件名`

### xz

> 压缩`单个文件`，压缩率高，cpu开销相对高，压缩时间相对长，解压速度快，压缩后`删除原文件`并自动加后缀`xz`，解压缩`unxz`

- 压缩：`# xz 文件名`
- 解压缩：`# unxz 文件名` 或 `# xz -d 文件名`

## 二、打包 tar

> 将多个文件或目录打包（归档）成一个文件，打包并不改变文件大小，但是它支持打包时压缩（调用gzip、bzip、xz工具），打包后`保留文件的属性信息`

- 打包：`# tar -cf  压缩包位置 需要打包压缩的文件（可多个） `
- 解压：`# tar -xf 压缩包位置 -C 解压路径 `
- 解压单个文件：`# tar -xf 压缩包位置  要解压的文件名（可多个）`
- 追加 ：`# tar -rf  压缩包位置  要追加的文件（可多个）  `

| 选项   | 全称      | 作用                               |
| ------ | --------- | ---------------------------------- |
| **-c** | create    | 创建tar包，`必选项`                |
| -f     | file      | 指定包名，`必选项`，`需要写到最后` |
| -v     | verbose   | 显示打包过程                       |
| -x     | extract   | 解压缩                             |
| -C     | directory | 指定解压路径                       |
| -t     | list      | 查看tar包内容                      |
| -r     | append    | 追加文件                           |
| -z     | gzip      | 调用gzip工具压缩                   |
| -j     | bzip2     | 调用bzip2工具压缩                  |
| -J     | xz        | 调用xz工具压缩                     |